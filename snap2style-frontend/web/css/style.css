/* ====== Base ====== */
:root{
  --bg:#0d0d0d;
  --card:#111318cc;
  --stroke:#ffffff26;
  --text:#eaeaea;
  --muted:#9ba0a6;
  --accent1:#ff4c4c;
  --accent2:#8e44ad;
  --glass: blur(16px) saturate(140%);
}

*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, "SF Pro Display", Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color:var(--text);
  background:var(--bg);
  overflow-x:hidden;
}

/* ====== Parallax Background ====== */
.bg-layer{ position:fixed; inset:0; pointer-events:none }
.bg-stars{
  background:
    radial-gradient(circle at 20% 30%, #ffffff0a 0 2px, transparent 2px) 0 0/120px 120px,
    radial-gradient(circle at 80% 70%, #ffffff08 0 2px, transparent 2px) 0 0/160px 160px,
    radial-gradient(circle at 50% 20%, #ffffff06 0 1px, transparent 1px) 0 0/100px 100px;
  opacity:.5;
}
.bg-gradient{
  background: radial-gradient(1200px 600px at 50% -10%, #8e44ad33, transparent 60%),
              radial-gradient(1200px 600px at 10% 110%, #ff4c4c33, transparent 60%);
  filter: blur(40px);
}
.bg-glow{
  position:fixed; inset:auto auto 10% 50%;
  width:560px; height:560px; translate:-50% 0;
  background: radial-gradient(closest-side, #ff4c4c22, transparent 70%);
  filter: blur(30px);
}

/* ====== Navbar ====== */
.nav{
  position:fixed; top:0; left:0; right:0; z-index:50;
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 28px; border-bottom:1px solid var(--stroke);
}
.glass{ background:var(--card); backdrop-filter:var(--glass) }
.brand{ display:flex; align-items:center; gap:10px }
.mark{ font-weight:700; letter-spacing:.3px; color:#fff; text-decoration:none }
.nav a{ color:var(--text); text-decoration:none; margin-left:18px; opacity:.9 }
.nav a:hover{ opacity:1 }

/* ====== Hero ====== */
.hero{ min-height:100svh; display:grid; place-items:center; padding-top:64px }
.hero-inner{ text-align:center; max-width:920px; padding:0 22px }
.headline{
  font-size: clamp(36px, 5vw, 74px);
  line-height:1.05; letter-spacing:-.02em; margin:0 0 12px;
  background: linear-gradient(90deg, var(--text), #c9c9c9);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  background-clip:text; color:transparent;
}
.headline .accent{
  background: linear-gradient(90deg, var(--accent1), var(--accent2));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  background-clip:text; color:transparent;
}
.sub{ color:var(--muted); font-size:clamp(16px,1.6vw,18px); margin:0 0 22px }
.cta{
  display:inline-block; padding:14px 22px; border-radius:999px;
  background:linear-gradient(90deg, var(--accent1), var(--accent2));
  color:#fff; text-decoration:none; font-weight:700; letter-spacing:.2px;
  box-shadow:0 10px 30px #0006; transition:transform .25s ease, box-shadow .25s ease;
}
.cta:hover{ transform:translateY(-2px); box-shadow:0 12px 36px #0008 }

/* ====== Panels / Cards ====== */
.panel{ padding:96px 18px }
.card{
  max-width: 1080px; margin: 0 auto; padding: 28px;
  border-radius: 22px; border:1px solid var(--stroke);
  background: var(--card); backdrop-filter: var(--glass);
  box-shadow: 0 18px 60px #0007, inset 0 1px 0 #ffffff14;
}

/* ====== Controls ====== */
.controls{
  display: grid;
  grid-template-columns: minmax(200px, 260px) 1fr auto;
  gap: 14px;
  align-items: end;
  margin-top:16px;
}
.select-wrap{ display:flex; flex-direction:column; gap:6px }
.select-wrap > span{ display:block; font-size:.9rem; color:rgba(255,255,255,.65); margin-bottom:6px }
select,
textarea,
input[type="text"],
input[type="email"],
input[type="password"]{
  background: rgba(255,255,255,0.04);
  color: #e9e9ef;
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 10px;
  padding: 10px 12px;
  width: 100%;
  font: inherit;
}
select:focus,
textarea:focus,
input[type="text"]:focus,
input[type="email"]:focus,
input[type="password"]:focus{
  outline: none;
  border-color: #a86bff;
  box-shadow: 0 0 0 3px rgba(168,107,255,0.2);
}
textarea{ resize: vertical; min-height: 46px; line-height: 1.35; }

.btn-primary{
  padding:12px 18px; border:none; border-radius:12px; cursor:pointer; color:#fff;
  white-space:nowrap;
  background:linear-gradient(90deg, var(--accent1), var(--accent2));
  box-shadow: 0 10px 24px #0008; transition: transform .2s ease, filter .2s ease;
}
.btn-primary:hover{ transform:translateY(-2px); filter:saturate(120%) }
.btn-secondary{
  text-decoration:none; color:#fff; border:1px solid var(--stroke);
  padding:10px 14px; border-radius:10px; background:#151823; transition:background .2s ease;
}
.btn-secondary:hover{ background:#1a2030 }
.btn-ghost{
  background:transparent; color:#fff; border:1px solid var(--stroke);
  padding:10px 14px; border-radius:10px; cursor:pointer;
}
.btn-wide{ width:100% }

/* ====== Dropzone ====== */
.dropzone{
  position: relative;
  margin-top: 14px;
  background: rgba(255,255,255,0.03);
  border: 1px dashed rgba(255,255,255,0.18);
  border-radius: 16px;
  height: 360px;
  display: grid;
  place-items: center;
  overflow: hidden;
  cursor: pointer;
}
.dropzone.dragging{
  border-color: #a86bff;
  box-shadow: 0 0 0 3px rgba(168,107,255,0.2) inset;
}
.drop-content{
  display:flex; gap:12px; align-items:center; color: rgba(255,255,255,.7);
  pointer-events: none; user-select: none;
}
.drop-icon{
  width: 44px; height: 44px; border-radius: 50%;
  background: rgba(255,255,255,0.06);
  display:grid; place-items:center; font-size: 20px;
}

/* Full-area transparent input so clicks always open picker */
.file-overlay{
  position:absolute; inset:0; width:100%; height:100%;
  opacity:0; cursor:pointer; z-index:2;
}
/* Preview image sits below the invisible file input */
.preview{
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:contain; display:none; pointer-events:none; z-index:1;
}

/* ====== Compare (Before/After) ====== */
.compare{
  position:relative; width:100%; max-width:980px; margin:12px auto 0;
  aspect-ratio:16/9; border-radius:16px; overflow:hidden; border:1px solid var(--stroke);
}
.cmp-img:not([src]), .cmp-img[src=""]{ display:none; }  /* prevent alt-text overlap */
.cmp-img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover }
.after-wrap{ position:absolute; inset:0; width:50%; overflow:hidden; border-right:1px solid #fff3; transition:width .2s ease }
.slider{
  appearance:none; position:absolute; inset:0; width:100%; height:100%; background:transparent; cursor:col-resize;
}
.slider::-webkit-slider-thumb{ appearance:none; width:4px; height:100%; background:#fff9; box-shadow:0 0 0 9999px transparent }
.slider::-moz-range-thumb{ width:4px; height:100%; background:#fff9; border:none }

/* ====== Result actions / Status / Footer ====== */
.result-actions{ display:flex; gap:10px; margin-top:14px; flex-wrap:wrap }
.status{ margin-top:10px }
.footer{ padding:40px 18px; text-align:center; color:var(--muted) }

/* ====== Loading Overlay ====== */
.loading{
  position:fixed; inset:0; display:grid; place-items:center; background:#0009; z-index:1000;
}
.hidden{ display:none }
.spinner{
  width:64px;height:64px;border-radius:50%;
  border:4px solid #ffffff22; border-top-color:#fff;
  animation:spin 1s linear infinite; margin:0 auto 10px;
}
.loading-text{ text-align:center; color:#eaeaea }
@keyframes spin{ to{ transform:rotate(360deg) } }

/* ====== Account dropdown (glassy) ====== */
.acct-btn{
  display:inline-grid; place-items:center; width:36px; height:36px;
  border-radius:50%; border:1px solid var(--stroke); background:#ffffff0f;
  color:#fff; font-weight:700; cursor:pointer;
}
.acct-btn:hover{ background:#ffffff18 }
.acct-backdrop{
  position:fixed; inset:0; display:none; z-index:1300; background:transparent;
}
/* pointer-events fix so page is usable when hidden */
.acct-backdrop[aria-hidden="true"]{ opacity:0; pointer-events:none; }
.acct-backdrop.open{ display:block; opacity:1; pointer-events:auto; }

.acct-menu{
  position:fixed; top:56px; right:18px; width:min(320px, 92vw);
  background:var(--card); backdrop-filter:var(--glass);
  border:1px solid var(--stroke); border-radius:16px; color:var(--text);
  box-shadow:0 24px 80px #000a; overflow:hidden; transform-origin: top right;
  animation:acctPop .18s ease;
}
@keyframes acctPop{ from{ transform:scale(.96); opacity:0 } to{ transform:scale(1); opacity:1 } }
.acct-head{ display:flex; gap:10px; align-items:center; padding:12px 14px; }
.acct-avatar{
  width:36px; height:36px; border-radius:50%; display:grid; place-items:center;
  background:#ffffff12; border:1px solid var(--stroke); font-weight:800;
}
.acct-title{ line-height:1.15 }
.acct-email{ font-weight:600 }
.acct-plan{ color:var(--muted); font-size:13px }
.acct-sep{ height:1px; background:var(--stroke); margin:6px 0 }
.acct-list{ padding:6px }
.acct-item{
  display:flex; gap:10px; align-items:center; padding:10px 12px; border-radius:12px; cursor:pointer;
  color:var(--text); text-decoration:none;
}
.acct-item:hover{ background:#ffffff12 }
.acct-icon{ width:18px; height:18px; opacity:.9 }
.acct-danger{ color:#ffd3d3 }

/* ====== Auth forms ====== */
.page { min-height: 100svh; display:flex; flex-direction:column; }
.center { flex:1; display:grid; place-items:center; padding:32px 16px; }
.auth-card {
  width:min(520px, 92vw); border-radius:22px; border:1px solid var(--stroke);
  background: var(--card); backdrop-filter: var(--glass);
  padding:24px; box-shadow: 0 18px 60px #0007, inset 0 1px 0 #ffffff14;
}
.auth-title { margin:0 0 14px; font-size:28px; }
.field { display:flex; flex-direction:column; gap:8px; margin:10px 0; }

/* ====== Rating stars ====== */
.stars{ display:flex; gap:8px; font-size:32px; user-select:none; }
.star{
  background:transparent; border:1px solid var(--stroke);
  color:#777; width:48px; height:48px; border-radius:12px;
  display:grid; place-items:center; cursor:pointer;
  transition:transform .15s ease, border-color .15s ease, color .15s ease, background .15s ease;
}
.star:hover{ transform: translateY(-2px); }
.star.active{ color:#ffc24b; border-color:#ffc24b55; background:#ffc24b14; }

/* ====== Responsive ====== */
@media (max-width:720px){
  .controls{ grid-template-columns: 1fr; align-items:stretch }
  select{ min-width:unset; width:100% }
}
